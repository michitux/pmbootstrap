# Contributor:
# Maintainer:
pkgname=liri-browser
pkgver=0
_gitcommit="f86901c684dd2018f2c34bfb8443148e61a4a26a"
pkgrel=1
pkgdesc="Liri Browser"
url="https://liri.io"
arch="all"
license="GPL3"
depends="qt5-qtwebengine fluid qt5-qtquickcontrols"
makedepends="liri-qbs-shared qbs-dev qt5-qtwebengine-dev"
install=""
subpackages=""
source="$pkgname-$pkgver-$pkgrel.zip::https://github.com/lirios/browser/archive/$_gitcommit.zip"
builddir="$srcdir/browser-$_gitcommit"

build() {
	cd "$builddir"
	qbs setup-toolchains --type gcc /usr/bin/g++ gcc
	qbs setup-qt /usr/bin/qmake-qt5 qt5
	qbs config profiles.qt5.baseProfile gcc
	qbs build --no-install -d build profile:qt5 \
		modules.lirideployment.prefix:/usr
}

package() {
	cd "$builddir"
	qbs install -d build --no-build -v --install-root $pkgdir profile:qt5
}

sha512sums="8ec43c27684f8450914713e7d2e05c79a89bf9f19d9edba8cfee9a5bf287ecca253b75dde52740f5397fde1b008678dfa0b1eebb664386e73edd3ef0ad6ed324  liri-browser-0-1.zip"
